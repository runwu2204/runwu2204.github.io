<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>runwu2204</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2024-11-11T10:43:50.000Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>runwu2204</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>inf编写</title>
    <link href="http://example.com/2024/11/11/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/inf%E7%BC%96%E5%86%99/"/>
    <id>http://example.com/2024/11/11/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/inf%E7%BC%96%E5%86%99/</id>
    <published>2024-11-11T10:43:32.000Z</published>
    <updated>2024-11-11T10:43:50.000Z</updated>
    
    <content type="html"><![CDATA[<p>ClassGUID</p><blockquote><p><a class="link"   href="https://learn.microsoft.com/zh-cn/windows-hardware/drivers/install/system-defined-device-setup-classes-available-to-vendors" >为供应商提供的系统定义的设备安装程序类 - Windows drivers | Microsoft Learn <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ClassGUID&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a class=&quot;link&quot;   href=&quot;https://learn.microsoft.com/zh-cn/windows-hardware/drivers/install/system-defined-d</summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="Windows" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/"/>
    
    <category term="驱动" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/"/>
    
    
  </entry>
  
  <entry>
    <title>kbfilter</title>
    <link href="http://example.com/2024/11/10/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/Rust/kbfilter/"/>
    <id>http://example.com/2024/11/10/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/Rust/kbfilter/</id>
    <published>2024-11-10T14:31:51.000Z</published>
    <updated>2024-11-10T14:31:57.000Z</updated>
    
    <content type="html"><![CDATA[<p><a class="link"   href="https://learn.microsoft.com/zh-cn/windows-hardware/drivers/wdf/using-inx-files-to-create-inf-files" >使用 INX 文件创建 INF 文件 - Windows drivers | Microsoft Learn <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a class=&quot;link&quot;   href=&quot;https://learn.microsoft.com/zh-cn/windows-hardware/drivers/wdf/using-inx-files-to-create-inf-files&quot; &gt;使用 INX 文件创建 </summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="Windows" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/"/>
    
    <category term="驱动" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/"/>
    
    <category term="Rust" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/Rust/"/>
    
    
  </entry>
  
  <entry>
    <title>windbg调试</title>
    <link href="http://example.com/2024/11/09/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/%E8%B0%83%E8%AF%95/windbg%E8%B0%83%E8%AF%95/"/>
    <id>http://example.com/2024/11/09/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/%E8%B0%83%E8%AF%95/windbg%E8%B0%83%E8%AF%95/</id>
    <published>2024-11-09T09:09:00.000Z</published>
    <updated>2024-11-09T10:16:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>在虚拟机上配置net调试后</p><blockquote><p><code>bcdedit /set testsigning on</code></p><p><code>bcdedit /dbgsettings net hostip:宿主机ip(不是虚拟机) port:54321</code></p><p><code>bcdedit /dbgsettings</code></p></blockquote><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411091709757.png"                      alt="image-20241109170927301"                ></p><p>此处我的驱动名叫<code>echo_2.sys</code></p><p>设置对应的加载事件断点</p><p><code>sxe ld echo_2</code></p><p><code>lm m echo_2</code></p><blockquote><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3: kd&gt; lm m echo_2</span><br><span class="line">Browse full module list</span><br><span class="line">start             end                 module name</span><br><span class="line">fffff807`282b0000 fffff807`282cf000   echo_2     (deferred)     </span><br></pre></td></tr></table></figure></div></blockquote><p>IDA上设置基址为刚拿到的<code>0xfffff807282b0000</code></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411091739095.png"                      alt="image-20241109173916817"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411091740920.png"                      alt="image-20241109174023751"                ></p><p>找到要断住的位置比如我要断<code> FxDriverEntry</code></p><p>在windbg内<code>bp FFFFF807282C00F4</code></p><p>就可以中断在对应位置</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411091741255.png"                      alt="image-20241109174132063"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在虚拟机上配置net调试后&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;bcdedit /set testsigning on&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bcdedit /dbgsettings net hostip:宿主机ip(不是虚拟机) port</summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="Windows" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/"/>
    
    <category term="驱动" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/"/>
    
    <category term="调试" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/%E8%B0%83%E8%AF%95/"/>
    
    
  </entry>
  
  <entry>
    <title>端口转发</title>
    <link href="http://example.com/2024/11/08/%E5%BC%80%E5%8F%91/VMware/%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/"/>
    <id>http://example.com/2024/11/08/%E5%BC%80%E5%8F%91/VMware/%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/</id>
    <published>2024-11-07T17:44:30.000Z</published>
    <updated>2024-11-07T17:44:42.000Z</updated>
    
    <content type="html"><![CDATA[<p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411080101297.png"                      alt="image-20241108010100098"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411080101998.png"                      alt="image-20241108010136931"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411080101009.png"                      alt="image-20241108010151955"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411080102397.png"                      alt="image-20241108010205234"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411080102783.png"                      alt="image-20241108010217733"                ></p><p>类似于这样即可</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411080102108.png"                      alt="image-20241108010223082"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img  
                     lazyload
                     src=&quot;/images/loading.svg&quot;
                     data-src=&quot;https://cdn.jsdelivr.n</summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="VMware" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/VMware/"/>
    
    
  </entry>
  
  <entry>
    <title>取消warningaserror</title>
    <link href="http://example.com/2024/11/04/%E5%BC%80%E5%8F%91/IOT/idf/%E5%8F%96%E6%B6%88warningaserror/"/>
    <id>http://example.com/2024/11/04/%E5%BC%80%E5%8F%91/IOT/idf/%E5%8F%96%E6%B6%88warningaserror/</id>
    <published>2024-11-03T18:50:08.000Z</published>
    <updated>2024-11-03T18:51:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>将源码的<code>CMakeLists.txt</code>（不是项目根目录的）在这个后面<code>idf_component_register(SRCS &quot;main.c&quot;)</code>加上<code>set_target_properties($&#123;COMPONENT_LIB&#125; PROPERTIES COMPILE_FLAGS -w )</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;将源码的&lt;code&gt;CMakeLists.txt&lt;/code&gt;（不是项目根目录的）在这个后面&lt;code&gt;idf_component_register(SRCS &amp;quot;main.c&amp;quot;)&lt;/code&gt;加上&lt;code&gt;set_target_properties($</summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="IOT" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/IOT/"/>
    
    <category term="idf" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/IOT/idf/"/>
    
    
  </entry>
  
  <entry>
    <title>Anaconda</title>
    <link href="http://example.com/2024/11/03/%E5%BC%80%E5%8F%91/Python/Anaconda/"/>
    <id>http://example.com/2024/11/03/%E5%BC%80%E5%8F%91/Python/Anaconda/</id>
    <published>2024-11-03T12:10:12.000Z</published>
    <updated>2024-11-03T18:50:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>运行库缺失如<a class="link"   href="https://blog.csdn.net/qzzzxiaosheng/article/details/125119006?utm_source=app&app_version=5.0.0" >Microsoft Visual C++ 14.0 is required.-CSDN博客 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p>设置环境变量</p><p><code>conda env config vars set xxx=xxx</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;运行库缺失如&lt;a class=&quot;link&quot;   href=&quot;https://blog.csdn.net/qzzzxiaosheng/article/details/125119006?utm_source=app&amp;app_version=5.0.0&quot; &gt;Microsoft </summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="Python" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Python/"/>
    
    
  </entry>
  
  <entry>
    <title>多工具链</title>
    <link href="http://example.com/2024/11/03/%E5%BC%80%E5%8F%91/Rust/%E5%A4%9A%E5%B7%A5%E5%85%B7%E9%93%BE/"/>
    <id>http://example.com/2024/11/03/%E5%BC%80%E5%8F%91/Rust/%E5%A4%9A%E5%B7%A5%E5%85%B7%E9%93%BE/</id>
    <published>2024-11-02T17:02:51.000Z</published>
    <updated>2024-11-02T17:35:38.000Z</updated>
    
    <content type="html"><![CDATA[<p><code>rustup toolchain install xxx</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;code&gt;rustup toolchain install xxx&lt;/code&gt;&lt;/p&gt;
</summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="Rust" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Rust/"/>
    
    
  </entry>
  
  <entry>
    <title>Ndisfilter驱动</title>
    <link href="http://example.com/2024/11/02/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/Ndisfilter%E9%A9%B1%E5%8A%A8/"/>
    <id>http://example.com/2024/11/02/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/Ndisfilter%E9%A9%B1%E5%8A%A8/</id>
    <published>2024-11-02T15:48:58.000Z</published>
    <updated>2024-11-06T16:27:50.000Z</updated>
    
    <content type="html"><![CDATA[<p><a class="link"   href="https://github.com/Ragebone/MS_bindview" >Ragebone&#x2F;MS_bindview: Compiled Microsoft Bindview tool, since it was a PITA to build. 64Bit. #pls_dont_sue_me <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p>需要inf文件和cer文件</p><p>inf文件用于安装驱动，cer文件用于根证书信任驱动</p><blockquote><p>如果没有根证书信任，会将自己安装的驱动优先级放到最后，会被系统默认的驱动占用，导致无法正常使用设备。</p></blockquote><p>选择service点击install</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411030036180.png"                      alt="image-20241103003622135"                ></p><p>从磁盘安装</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411030036175.png"                      alt="image-20241103003602133"                ></p><p>选择inf</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411030037832.png"                      alt="image-20241103003710782"                ></p><p>通过instDrv操纵驱动启停也可通过命令行<code>net start servicename</code> <code>net stop servicename</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a class=&quot;link&quot;   href=&quot;https://github.com/Ragebone/MS_bindview&quot; &gt;Ragebone&amp;#x2F;MS_bindview: Compiled Microsoft Bindview tool, since it w</summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="Windows" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/"/>
    
    <category term="驱动" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/"/>
    
    
  </entry>
  
  <entry>
    <title>网络重置</title>
    <link href="http://example.com/2024/11/02/%E5%BC%80%E5%8F%91/linux/%E7%BD%91%E7%BB%9C%E9%87%8D%E7%BD%AE/"/>
    <id>http://example.com/2024/11/02/%E5%BC%80%E5%8F%91/linux/%E7%BD%91%E7%BB%9C%E9%87%8D%E7%BD%AE/</id>
    <published>2024-11-01T17:52:48.000Z</published>
    <updated>2024-11-01T17:52:54.000Z</updated>
    
    <content type="html"><![CDATA[<p><a class="link"   href="https://blog.csdn.net/weixin_54513557/article/details/124722681" >Kali-Linux虚拟机连接网络失败以及kali无法ping主机的问题_kaliping不通主机-CSDN博客 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a class=&quot;link&quot;   href=&quot;https://blog.csdn.net/weixin_54513557/article/details/124722681&quot; &gt;Kali-Linux虚拟机连接网络失败以及kali无法ping主机的问题_kaliping不通</summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="linux" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/linux/"/>
    
    
  </entry>
  
  <entry>
    <title>基本操作</title>
    <link href="http://example.com/2024/11/01/%E5%BC%80%E5%8F%91/Git/%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
    <id>http://example.com/2024/11/01/%E5%BC%80%E5%8F%91/Git/%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/</id>
    <published>2024-10-31T17:32:06.000Z</published>
    <updated>2024-10-31T17:39:47.000Z</updated>
    
    <content type="html"><![CDATA[<p>两种协议(根据链接不同)</p><blockquote><p>https 不能免密</p><p><a class="link"   href="https://github.com/username/reponame" >https://github.com/username/reponame <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p>ssh 可免密</p><p><a class="link"   href="mailto:&#103;&#105;&#116;&#64;&#x67;&#105;&#116;&#104;&#x75;&#x62;&#46;&#x63;&#111;&#x6d;" >&#103;&#105;&#116;&#64;&#x67;&#105;&#116;&#104;&#x75;&#x62;&#46;&#x63;&#111;&#x6d; <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>:username&#x2F;reponame</p></blockquote><p>免密传输</p><blockquote><p>需要远程信任本地公钥</p><p><code>ssh-keygen -t rsa -C &quot;GitHub 邮箱&quot;</code></p><p>github <code>setting</code>-&gt;<code>SSH and GPG keys</code>-&gt;<code>New SSH key</code></p><p><code>ssh -T git@github.com</code> 输出successfully代表网络连接成功</p><p><code>ssh-agent -s</code>启用ssh服务后<code>ssh-add 私钥地址(默认生成在~/.ssh/id_rsa) </code></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;两种协议(根据链接不同)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;https 不能免密&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;link&quot;   href=&quot;https://github.com/username/reponame&quot; &gt;https://github.com/user</summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="Git" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Git/"/>
    
    
  </entry>
  
  <entry>
    <title>1</title>
    <link href="http://example.com/2024/10/31/%E5%BC%80%E5%8F%91/MSYS2/1/"/>
    <id>http://example.com/2024/10/31/%E5%BC%80%E5%8F%91/MSYS2/1/</id>
    <published>2024-10-31T15:48:00.000Z</published>
    <updated>2024-10-31T15:48:17.000Z</updated>
    
    <content type="html"><![CDATA[<p><code>F:\Development\env\msys2\msys2_shell.cmd -msys2 -no-start -mintty -c &quot; some command&quot;</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;code&gt;F:&#92;Development&#92;env&#92;msys2&#92;msys2_shell.cmd -msys2 -no-start -mintty -c &amp;quot; some command&amp;quot;&lt;/code&gt;&lt;/p&gt;
</summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="MSYS2" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/MSYS2/"/>
    
    
  </entry>
  
  <entry>
    <title>Vmware双机调试</title>
    <link href="http://example.com/2024/10/28/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/%E8%B0%83%E8%AF%95/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/Vmware%E5%8F%8C%E6%9C%BA%E8%B0%83%E8%AF%95/"/>
    <id>http://example.com/2024/10/28/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/%E8%B0%83%E8%AF%95/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/Vmware%E5%8F%8C%E6%9C%BA%E8%B0%83%E8%AF%95/</id>
    <published>2024-10-28T03:13:20.000Z</published>
    <updated>2024-11-08T14:29:44.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="串口"><a href="#串口" class="headerlink" title="串口"></a>串口</h2><p>双机调试需要配置一个虚拟机</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202410281119860.png"                      alt="image-20241028111942588"                ></p><p>在虚拟机内<code>win+r</code></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202410281154655.png"                      alt="image-20241028115407606"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202410281155364.png"                      alt="image-20241028115501314"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202410281155864.png"                      alt="image-20241028115512824"                ></p><p>command</p><blockquote><p>创建驱动服务<code>sc create mydriver binpath=c:\1.sys type=kernel start=demand error=ignore</code></p></blockquote><h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><p><code>bcdedit /set testsigning on</code></p><p>重启后使用</p><p><code>bcdedit /dbgsettings net hostip:宿主机ip(不是虚拟机) port:50010</code>设置对应端口，此处我使用NAT</p><p>可以用<code>bcdedit /dbgsettings</code>查看当前调试配置</p><blockquote><p>注意：需要两个电脑相互ping通，注意防火墙的配置</p></blockquote><p>最好将虚拟机设置成静态ip，方便vmware进行端口转发</p><p>ida其他版本 </p><p>ida9.0的windbg <code>connect string</code>:<code>net:port=54321,key=w229goc2j72k.2pnz9ylivxg79.17cgn4ndol1zi.1keplhskzpdtx</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;串口&quot;&gt;&lt;a href=&quot;#串口&quot; class=&quot;headerlink&quot; title=&quot;串口&quot;&gt;&lt;/a&gt;串口&lt;/h2&gt;&lt;p&gt;双机调试需要配置一个虚拟机&lt;/p&gt;
&lt;p&gt;&lt;img  
                     lazyload
            </summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="Windows" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/"/>
    
    <category term="驱动" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/"/>
    
    <category term="调试" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/%E8%B0%83%E8%AF%95/"/>
    
    <category term="环境配置" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/%E8%B0%83%E8%AF%95/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
    
    
  </entry>
  
  <entry>
    <title>DriverSample</title>
    <link href="http://example.com/2024/10/26/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/Rust/DriverSample/"/>
    <id>http://example.com/2024/10/26/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/Rust/DriverSample/</id>
    <published>2024-10-25T17:30:02.000Z</published>
    <updated>2024-11-08T12:11:09.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a class="link"   href="https://github.com/microsoft/Windows-rust-driver-samples" >microsoft&#x2F;Windows-rust-driver-samples: Rust port of the official Windows Driver Samples on Github. Leverages windows-drivers-rs <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><blockquote><p>wdk</p><blockquote><p>使用wdk即可，ewdk没太大必要，需要注意自己使用的wdk对应的msvc链子的版本</p></blockquote><p>LLVM</p><blockquote><p>安装完成后将<code>LLVM路径/bin</code>放入<code>LIBCLANG_PATH</code>环境变量中</p></blockquote></blockquote><p>测试的时候在根目录下<code>cargo make</code>即可</p><blockquote><p>出现以下问题</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202410260132610.png"                      alt="image-20241026013233394"                ></p><p>代表你有多个kit版本，主要需要将<code>Windows Kits\10\Lib</code>与<code>Windows Kits\10\Tools</code>出现的最高版本一样，否则他会在另外一个地方找不到对应文件的存在</p><p>例如一个10.0.26一个10.0.22,他会直接在两个地方找10.0.26，如果没找到就会报错</p><p>需要注意对应wdk安装的版本</p></blockquote><p>快速创建项目</p><blockquote><p>工具cargo-generate</p><p><code>cargo install cargo-generate</code>即可</p></blockquote><p><code>cargo generate --git https://github.com/microsoft/Windows-rust-driver-samples</code></p><h2 id="加载"><a href="#加载" class="headerlink" title="加载"></a>加载</h2><p>参考<a class="link"   href="https://github.com/microsoft/Windows-rust-driver-samples/issues/30" >Driver does not attach to device and does not log anything · Issue #30 · microsoft&#x2F;Windows-rust-driver-samples <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><blockquote><p><code>pnputil.exe /add-driver .\echo_2.inf /install</code></p><p><code>pnputil /enum-devices /class Sample /connected</code></p><p><code>devgen.exe /add /hardwareid &quot;root\ECHO_2&quot;</code></p></blockquote><p>因为对应设备使用的驱动为<code> c_swdevice.inf</code>而不是我们安装的<code>echo_2.inf</code></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411030847031.png"                      alt="image-20241103084747669"                ></p><p>原因是证书未被信任(优先级 已签名&gt;未签名)，可以先将target下的</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411030906763.png"                      alt="image-20241103090620603"                ></p><p>放入根证书 然后重新安装即可</p><h2 id="代码37"><a href="#代码37" class="headerlink" title="代码37"></a>代码37</h2><p>老工具链</p><blockquote><p>出现类似这种问题</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411082005688.png"                      alt="image-20241108200517328"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202411030913718.png"                      alt="image-20241103091322633"                ></p><p><a class="link"   href="https://github.com/microsoft/windows-drivers-rs/issues/42#issuecomment-1905274389" >https://github.com/microsoft/windows-drivers-rs/issues/42#issuecomment-1905274389 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p>更改<code>wdk-sys/src/wdf.rs</code></p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">WdfMinimumVersionRequired: ULONG = 33;</span><br><span class="line">//变为</span><br><span class="line">WdfMinimumVersionRequired: ULONG = 31;</span><br></pre></td></tr></table></figure></div></blockquote><p>新工具链</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h2&gt;&lt;p&gt;&lt;a class=&quot;link&quot;   href=&quot;https://github.com/microsoft/Windows-rust-driv</summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="Windows" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/"/>
    
    <category term="驱动" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/"/>
    
    <category term="Rust" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/Windows/%E9%A9%B1%E5%8A%A8/Rust/"/>
    
    
  </entry>
  
  <entry>
    <title>二次剩余</title>
    <link href="http://example.com/2024/10/02/Crypto/RSA/%E4%BA%8C%E6%AC%A1%E5%89%A9%E4%BD%99/"/>
    <id>http://example.com/2024/10/02/Crypto/RSA/%E4%BA%8C%E6%AC%A1%E5%89%A9%E4%BD%99/</id>
    <published>2024-10-02T09:31:02.000Z</published>
    <updated>2024-10-02T09:31:07.000Z</updated>
    
    <content type="html"><![CDATA[<p>[<a class="link"   href="https://www.nssctf.cn/problem/262" >羊城杯 2020]GMC | NSSCTF <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;[&lt;a class=&quot;link&quot;   href=&quot;https://www.nssctf.cn/problem/262&quot; &gt;羊城杯 2020]GMC | NSSCTF &lt;i class=&quot;fa-regular fa-arrow-up-right-from-square fa-</summary>
      
    
    
    
    <category term="Crypto" scheme="http://example.com/categories/Crypto/"/>
    
    <category term="RSA" scheme="http://example.com/categories/Crypto/RSA/"/>
    
    
  </entry>
  
  <entry>
    <title>vscode</title>
    <link href="http://example.com/2024/09/30/%E5%BC%80%E5%8F%91/IOT/rust/vscode/"/>
    <id>http://example.com/2024/09/30/%E5%BC%80%E5%8F%91/IOT/rust/vscode/</id>
    <published>2024-09-30T13:43:01.000Z</published>
    <updated>2024-09-30T13:53:29.000Z</updated>
    
    <content type="html"><![CDATA[<p><a class="link"   href="https://github.com/rust-embedded/cortex-m-quickstart" >rust-embedded&#x2F;cortex-m-quickstart: Template to develop bare metal applications for Cortex-M microcontrollers (github.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p>需要<code>cargo generate</code></p><p><code>cargo install generate</code>即可</p><p>stm32f103c8t6的 memory.x</p><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Linker script for the STM32F103C8T6 */</span></span><br><span class="line">MEMORY</span><br><span class="line">&#123;</span><br><span class="line">  FLASH : ORIGIN = <span class="number">0x08000000</span>, LENGTH = <span class="number">64</span>K</span><br><span class="line">  RAM : ORIGIN = <span class="number">0x20000000</span>, LENGTH = <span class="number">20</span>K</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a class=&quot;link&quot;   href=&quot;https://github.com/rust-embedded/cortex-m-quickstart&quot; &gt;rust-embedded&amp;#x2F;cortex-m-quickstart: Template to develo</summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="IOT" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/IOT/"/>
    
    <category term="rust" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/IOT/rust/"/>
    
    
  </entry>
  
  <entry>
    <title>设置Androidavd</title>
    <link href="http://example.com/2024/09/27/%E5%BC%80%E5%8F%91/%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%91/%E8%AE%BE%E7%BD%AEAndroidavd/"/>
    <id>http://example.com/2024/09/27/%E5%BC%80%E5%8F%91/%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%91/%E8%AE%BE%E7%BD%AEAndroidavd/</id>
    <published>2024-09-27T14:31:47.000Z</published>
    <updated>2024-09-27T14:32:13.000Z</updated>
    
    <content type="html"><![CDATA[<p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202409272231493.png"                      alt="image-20240927223154345"                ></p><p>环境变量中添加这几个键值用于限定android工具链位置</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img  
                     lazyload
                     src=&quot;/images/loading.svg&quot;
                     data-src=&quot;https://cdn.jsdelivr.n</summary>
      
    
    
    
    <category term="开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/"/>
    
    <category term="安卓开发" scheme="http://example.com/categories/%E5%BC%80%E5%8F%91/%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%91/"/>
    
    
  </entry>
  
  <entry>
    <title>常见保护措施</title>
    <link href="http://example.com/2024/09/19/Pwn/linux/%E4%BF%9D%E6%8A%A4%E6%8E%AA%E6%96%BD/%E5%B8%B8%E8%A7%81%E4%BF%9D%E6%8A%A4%E6%8E%AA%E6%96%BD/"/>
    <id>http://example.com/2024/09/19/Pwn/linux/%E4%BF%9D%E6%8A%A4%E6%8E%AA%E6%96%BD/%E5%B8%B8%E8%A7%81%E4%BF%9D%E6%8A%A4%E6%8E%AA%E6%96%BD/</id>
    <published>2024-09-18T18:04:52.000Z</published>
    <updated>2024-09-18T18:20:18.000Z</updated>
    
    <content type="html"><![CDATA[<p><a class="link"   href="https://blog.csdn.net/qq_44108455/article/details/104985351" >pwn学习—保护机制_pie enabled-CSDN博客 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a class=&quot;link&quot;   href=&quot;https://blog.csdn.net/qq_44108455/article/details/104985351&quot; &gt;pwn学习—保护机制_pie enabled-CSDN博客 &lt;i class=&quot;fa-regular </summary>
      
    
    
    
    <category term="Pwn" scheme="http://example.com/categories/Pwn/"/>
    
    <category term="linux" scheme="http://example.com/categories/Pwn/linux/"/>
    
    <category term="保护措施" scheme="http://example.com/categories/Pwn/linux/%E4%BF%9D%E6%8A%A4%E6%8E%AA%E6%96%BD/"/>
    
    
  </entry>
  
  <entry>
    <title>unsortedbin</title>
    <link href="http://example.com/2024/09/17/Pwn/linux/heap/unsortedbin/"/>
    <id>http://example.com/2024/09/17/Pwn/linux/heap/unsortedbin/</id>
    <published>2024-09-17T15:02:48.000Z</published>
    <updated>2024-09-17T18:16:53.000Z</updated>
    
    <content type="html"><![CDATA[<p>unsorted bin</p><p>是循环双向链表结构 而且是先进先出(先进入unsortedbin的先参与下次分配 相同大小情况)</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="https://cdn.jsdelivr.net/gh/runwu2204/Blog_imgs/202409180055836.jpeg"                      alt="img"                ></p><p>参考<a class="link"   href="https://www.cnblogs.com/CH13hh/p/18162356" >Fastbin attack&amp;&amp;Double free和Unsortbin leak的综合使用 - CH13hh - 博客园 (cnblogs.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p><a class="link"   href="https://ctf-wiki.org/pwn/linux/user-mode/heap/ptmalloc2/unsorted-bin-attack/" >Unsorted Bin Attack - CTF Wiki (ctf-wiki.org) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p>获取libc基址</p><blockquote><p>当只有一个unsortbin的时候，其fd和bk指向<code>main_arena+0x60</code>(unsorted bin 起始指针)处</p><p>如果有多个unsortbin</p><p>每次分配以unsorted bin 起始指针的bk为主</p><pre class="mermaid">> graph BT;subgraph LR B["free_2"];head2["addr"]fd2["fd"]bk2["bk"]end;subgraph LR A["free_1"];head1["addr"]bk1["bk"]fd1["fd"]end;subgraph LR C["unsorted bin pointer"];head3["addr"]fd3["fd"]bk3["bk"]end;fd2-->head1bk2-->head3fd1-->head3bk1-->head2fd3-->head2bk3-->head1</pre><p>exp:</p><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">第一次</span></span><br><span class="line">tcachebins</span><br><span class="line">0x30 [  1]: 0x55555555f260 ◂— 0</span><br><span class="line">fastbins</span><br><span class="line">empty</span><br><span class="line">unsortedbin</span><br><span class="line">all: 0x55555555f280 —▸ 0x7ffff7dcdca0 ◂— 0x55555555f280</span><br><span class="line">smallbins</span><br><span class="line">empty</span><br><span class="line">largebins</span><br><span class="line">empty</span><br><span class="line"><span class="meta prompt_">gdb-peda$ </span><span class="language-bash">x/16x 0x55555555f280</span></span><br><span class="line">0x55555555f280: 0x0000000000000000      0x0000000000000471</span><br><span class="line">0x55555555f290: 0x00007ffff7dcdca0      0x00007ffff7dcdca0</span><br><span class="line">0x55555555f2a0: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f2b0: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f2c0: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f2d0: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f2e0: 0x0000000000000000      0x0000000000000000</span><br><span class="line"><span class="meta prompt_">gdb-peda$ </span><span class="language-bash">x/16x 0x7ffff7dcdca0</span></span><br><span class="line">0x7ffff7dcdca0: 0x000055555555fbe0      0x0000000000000000</span><br><span class="line">0x7ffff7dcdcb0: 0x000055555555f280      0x000055555555f280</span><br><span class="line">0x7ffff7dcdcc0: 0x00007ffff7dcdcb0      0x00007ffff7dcdcb0</span><br><span class="line">0x7ffff7dcdcd0: 0x00007ffff7dcdcc0      0x00007ffff7dcdcc0</span><br><span class="line">0x7ffff7dcdce0: 0x00007ffff7dcdcd0      0x00007ffff7dcdcd0</span><br><span class="line">0x7ffff7dcdcf0: 0x00007ffff7dcdce0      0x00007ffff7dcdce0</span><br><span class="line">0x7ffff7dcdd00: 0x00007ffff7dcdcf0      0x00007ffff7dcdcf0</span><br><span class="line">0x7ffff7dcdd10: 0x00007ffff7dcdd00      0x00007ffff7dcdd00</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">第二次</span></span><br><span class="line"><span class="meta prompt_">gdb-peda$ </span><span class="language-bash">bin</span></span><br><span class="line">tcachebins</span><br><span class="line">0x30 [  2]: 0x55555555f700 —▸ 0x55555555f260 ◂— 0</span><br><span class="line">fastbins</span><br><span class="line">empty</span><br><span class="line">unsortedbin</span><br><span class="line">all: 0x55555555f720 —▸ 0x55555555f280 —▸ 0x7ffff7dcdca0 ◂— 0x55555555f720</span><br><span class="line">smallbins</span><br><span class="line">empty</span><br><span class="line">largebins</span><br><span class="line">empty</span><br><span class="line"><span class="meta prompt_">gdb-peda$ </span><span class="language-bash">x/16x 0x55555555f720</span></span><br><span class="line">0x55555555f720: 0x0000000000000000      0x0000000000000471</span><br><span class="line">0x55555555f730: 0x000055555555f280      0x00007ffff7dcdca0</span><br><span class="line">0x55555555f740: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f750: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f760: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f770: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f780: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f790: 0x0000000000000000      0x0000000000000000</span><br><span class="line"><span class="meta prompt_">gdb-peda$ </span><span class="language-bash">x/16x 0x55555555f280</span></span><br><span class="line">0x55555555f280: 0x0000000000000000      0x0000000000000471</span><br><span class="line">0x55555555f290: 0x00007ffff7dcdca0      0x000055555555f720</span><br><span class="line">0x55555555f2a0: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f2b0: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f2c0: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f2d0: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f2e0: 0x0000000000000000      0x0000000000000000</span><br><span class="line">0x55555555f2f0: 0x0000000000000000      0x0000000000000000</span><br><span class="line"><span class="meta prompt_">gdb-peda$ </span><span class="language-bash">x/16x 0x7ffff7dcdca0</span></span><br><span class="line">0x7ffff7dcdca0: 0x000055555555fbe0      0x0000000000000000</span><br><span class="line">0x7ffff7dcdcb0: 0x000055555555f720      0x000055555555f280</span><br><span class="line">0x7ffff7dcdcc0: 0x00007ffff7dcdcb0      0x00007ffff7dcdcb0</span><br><span class="line">0x7ffff7dcdcd0: 0x00007ffff7dcdcc0      0x00007ffff7dcdcc0</span><br><span class="line">0x7ffff7dcdce0: 0x00007ffff7dcdcd0      0x00007ffff7dcdcd0</span><br><span class="line">0x7ffff7dcdcf0: 0x00007ffff7dcdce0      0x00007ffff7dcdce0</span><br><span class="line">0x7ffff7dcdd00: 0x00007ffff7dcdcf0      0x00007ffff7dcdcf0</span><br><span class="line">0x7ffff7dcdd10: 0x00007ffff7dcdd00      0x00007ffff7dcdd00</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重新分配相同大小的</span></span><br><span class="line"><span class="meta prompt_">gdb-peda$ </span><span class="language-bash">bin</span></span><br><span class="line">tcachebins</span><br><span class="line">0x30 [  1]: 0x55555555f260 ◂— 0</span><br><span class="line">fastbins</span><br><span class="line">empty</span><br><span class="line">unsortedbin</span><br><span class="line">all: 0x55555555f720 —▸ 0x7ffff7dcdca0 ◂— 0x55555555f720</span><br><span class="line">smallbins</span><br><span class="line">empty</span><br><span class="line">largebins</span><br><span class="line">empty</span><br></pre></td></tr></table></figure></div></blockquote><p>所以如果拿到一个unsortbin则可通过uaf获取对应基址</p><p>计算方法:</p><p><a class="link"   href="https://blog.csdn.net/qq_33976344/article/details/119941461" >确认main_arena相对libc的偏移地址_如何计算unsorted bin到 main arena的偏移-CSDN博客 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;unsorted bin&lt;/p&gt;
&lt;p&gt;是循环双向链表结构 而且是先进先出(先进入unsortedbin的先参与下次分配 相同大小情况)&lt;/p&gt;
&lt;p&gt;&lt;img  
                     lazyload
                     src</summary>
      
    
    
    
    <category term="Pwn" scheme="http://example.com/categories/Pwn/"/>
    
    <category term="linux" scheme="http://example.com/categories/Pwn/linux/"/>
    
    <category term="heap" scheme="http://example.com/categories/Pwn/linux/heap/"/>
    
    
  </entry>
  
  <entry>
    <title>patchelf</title>
    <link href="http://example.com/2024/09/16/Pwn/linux/tool/patchelf/"/>
    <id>http://example.com/2024/09/16/Pwn/linux/tool/patchelf/</id>
    <published>2024-09-16T11:31:46.000Z</published>
    <updated>2024-09-16T18:04:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>通过patchelf更改链接库版本</p><p><code>patchelf --add-needed lib_path elf_path</code>更改除了<code>ld-linux-x86-64.so.2</code>外的库</p><p><code>patchelf --set-interpreter lib_path elf_path</code>更改<code>ld-linux-x86-64.so.2</code>库</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;通过patchelf更改链接库版本&lt;/p&gt;
&lt;p&gt;&lt;code&gt;patchelf --add-needed lib_path elf_path&lt;/code&gt;更改除了&lt;code&gt;ld-linux-x86-64.so.2&lt;/code&gt;外的库&lt;/p&gt;
&lt;p&gt;&lt;code&gt;patche</summary>
      
    
    
    
    <category term="Pwn" scheme="http://example.com/categories/Pwn/"/>
    
    <category term="linux" scheme="http://example.com/categories/Pwn/linux/"/>
    
    <category term="tool" scheme="http://example.com/categories/Pwn/linux/tool/"/>
    
    
  </entry>
  
  <entry>
    <title>fastbin,tcache加密机制(glibc2.29之后)</title>
    <link href="http://example.com/2024/09/16/Pwn/linux/heap/fastbin,tcache%E5%8A%A0%E5%AF%86%E6%9C%BA%E5%88%B6(glibc2.29%E4%B9%8B%E5%90%8E)/"/>
    <id>http://example.com/2024/09/16/Pwn/linux/heap/fastbin,tcache%E5%8A%A0%E5%AF%86%E6%9C%BA%E5%88%B6(glibc2.29%E4%B9%8B%E5%90%8E)/</id>
    <published>2024-09-16T11:05:06.000Z</published>
    <updated>2024-09-16T11:12:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>类似下面的</p><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0x40</span> [  <span class="number">6</span>]: <span class="number">0x555555559670</span> —▸ <span class="number">0x5555555599a0</span> —▸ <span class="number">0x55555555a460</span> —▸ <span class="number">0x55555555a130</span> —▸ <span class="number">0x555555559ad0</span> —▸ <span class="number">0x5555555597a0</span> ◂— <span class="number">0</span></span><br></pre></td></tr></table></figure></div><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ x/<span class="number">4</span>x <span class="number">0x555555559670</span><span class="number">-0x10</span></span><br><span class="line"><span class="number">0x555555559660</span>: <span class="number">0x0000000000000000</span>      <span class="number">0x0000000000000041</span></span><br><span class="line"><span class="number">0x555555559670</span>: <span class="number">0x000055500000ccf9</span>      <span class="number">0xdcf96e51fa77b2f5</span></span><br><span class="line">gdb-peda$ x/<span class="number">4</span>x <span class="number">0x5555555599a0</span><span class="number">-0x10</span></span><br><span class="line"><span class="number">0x555555559990</span>: <span class="number">0x00000000000000f0</span>      <span class="number">0x0000000000000040</span></span><br><span class="line"><span class="number">0x5555555599a0</span>: <span class="number">0x000055500000f139</span>      <span class="number">0xdcf96e51fa77b2f5</span></span><br></pre></td></tr></table></figure></div><p>此处fd分别为<code>0x000055500000ccf9 </code> <code>0x000055500000f139</code></p><p>实际上就是正常fd异或一个key的结果</p><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">7</span>]: <span class="built_in">hex</span>(<span class="number">0x000055500000ccf9</span>^<span class="number">0x5555555599a0</span>)<span class="comment">#enc_fd^dec_fd=key</span></span><br><span class="line">Out[<span class="number">7</span>]: <span class="string">&#x27;0x555555559&#x27;</span><span class="comment">#key</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">8</span>]: <span class="built_in">hex</span>(<span class="number">0x000055500000f139</span>^<span class="number">0x555555559</span>)<span class="comment">#enc_fd^key=dec_fd</span></span><br><span class="line">Out[<span class="number">8</span>]: <span class="string">&#x27;0x55555555a460&#x27;</span></span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;类似下面的&lt;/p&gt;
&lt;div class=&quot;highlight-container&quot; data-rel=&quot;C&quot;&gt;&lt;figure class=&quot;iseeu highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=</summary>
      
    
    
    
    <category term="Pwn" scheme="http://example.com/categories/Pwn/"/>
    
    <category term="linux" scheme="http://example.com/categories/Pwn/linux/"/>
    
    <category term="heap" scheme="http://example.com/categories/Pwn/linux/heap/"/>
    
    
  </entry>
  
</feed>
